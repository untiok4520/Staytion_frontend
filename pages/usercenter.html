<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/scss/user_center/main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />

    <title>使用者中心</title>
  </head>
  <body>
    <header>
      <nav class="my-navbar navbar navbar-expand-lg">
        <div class="container-fluid">
          <a class="navbar-brand" href="/pages/homepage/home.html">
            <img src="../assets/logo.png" class="logo_img" alt="logo" />
          </a>
          <ul class="navbar-nav">
            <div class="nav-item">
              <button
                type="button"
                class="btn btn-outline-primary"
                data-bs-toggle="modal"
                data-bs-target="#currencyModal"
              >
                TWD
              </button>
              <div
                class="modal fade"
                id="currencyModal"
                tabindex="-1"
                aria-labelledby="currencyModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-scrollable modal-xl">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="currencyModalLabel">
                        選擇您使用的貨幣
                      </h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body modal-grid">
                      <div>
                        <a href="#">新台幣<br />TWD</a>
                      </div>
                      <div>
                        <a href="#">日元<br />JPY</a>
                      </div>
                      <div>
                        <a href="#">美元<br />USD</a>
                      </div>
                      <div>
                        <a href="#">歐元<br />EUR</a>
                      </div>
                      <div>
                        <a href="#">港幣<br />HKD</a>
                      </div>
                      <div>
                        <a href="#">人民幣<br />CNY</a>
                      </div>
                      <div>
                        <a href="#">英鎊<br />GBP</a>
                      </div>
                      <div>
                        <a href="#">丹麥克朗<br />DKK</a>
                      </div>
                      <div>
                        <a href="#">亞賽拜然新馬納特<br />AZN</a>
                      </div>
                      <div>
                        <a href="#">以色列新謝克爾<br />ILS</a>
                      </div>
                      <div>
                        <a href="#">俄羅斯盧布<br />RUB</a>
                      </div>
                      <div>
                        <a href="#">保加利亞列弗<br />BGN</a>
                      </div>
                      <div>
                        <a href="#">冰島克朗<br />ISK</a>
                      </div>
                      <div>
                        <a href="#">加幣<br />CAD</a>
                      </div>
                      <div>
                        <a href="#">匈牙利福林<br />HUF</a>
                      </div>
                      <div>
                        <a href="#">南非鍰<br />ZAR</a>
                      </div>
                      <div>
                        <a href="#">卡達里亞爾<br />QAR</a>
                      </div>
                      <div>
                        <a href="#">印尼盾<br />IDR</a>
                      </div>
                      <div>
                        <a href="#">印度盧比 <br />INR</a>
                      </div>
                      <div>
                        <a href="#">哈薩克坦吉<br />KZT</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="nav-item">
              <button
                type="button"
                class="btn btn-outline-primary"
                data-bs-toggle="modal"
                data-bs-target="#languageModal"
              >
                <span class="fi fi-tw fis"></span>
              </button>
              <div
                class="modal fade"
                id="languageModal"
                tabindex="-1"
                aria-labelledby="languageModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-scrollable modal-xl">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="languageModalLabel">
                        選擇您使用的語言
                      </h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body modal-grid">
                      <div><span class="fi fi-tw fis"></span>繁體中文</div>
                      <div><span class="fi fi-gb fis"></span>English(UK)</div>
                      <div><span class="fi fi-us fis"></span>English(UA)</div>
                      <div><span class="fi fi-jp fis"></span>日本語</div>
                      <div><span class="fi fi-fr fis"></span>Français</div>
                      <div><span class="fi fi-de fis"></span>Deutsch</div>
                      <div><span class="fi fi-it fis"></span>Italiano</div>
                      <div><span class="fi fi-es fis"></span>Español</div>
                      <div><span class="fi fi-kr fis"></span>한국어</div>
                      <div><span class="fi fi-cn fis"></span>简体中文</div>
                      <div><span class="fi fi-hk fis"></span>粵語</div>
                      <div><span class="fi fi-ru fis"></span>Русский</div>
                      <div><span class="fi fi-th fis"></span>ไทย</div>
                      <div><span class="fi fi-vn fis"></span>Tiếng Việt</div>
                      <div>
                        <span class="fi fi-id fis"></span>Bahasa Indonesia
                      </div>
                      <div><span class="fi fi-my fis"></span>Bahasa Melayu</div>
                      <div><span class="fi fi-ph fis"></span>Filipino</div>
                      <div><span class="fi fi-in fis"></span>हिन्दी</div>
                      <div><span class="fi fi-tr fis"></span>Türkçe</div>
                      <div><span class="fi fi-sa fis"></span>العربية</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="nav-item">
              <button class="btn btn-primary">登入</button>
            </div>
          </ul>
        </div>
      </nav>
    </header>

    <div class="usercenter_container container">
      <!-- sidebar -->
      <aside class="sidebar">
        <div class="sidebar-item" data-page="orders">
          <i class="bi bi-calendar-check"></i>
          <span>管理訂單</span>
        </div>
        <div class="sidebar-item" data-page="messages">
          <i class="bi bi-envelope"></i>
          <span>住宿訊息</span>
        </div>
        <div class="sidebar-item" data-page="reviews">
          <i class="bi bi-star"></i>
          <span>住宿評論</span>
        </div>
        <div class="sidebar-item" data-page="favorites">
          <i class="bi bi-heart"></i>
          <span>收藏清單</span>
        </div>
        <div class="sidebar-item" data-page="profile">
          <i class="bi bi-person"></i>
          <span>個人資料</span>
        </div>
      </aside>
      <!-- 區塊更新內容 -->
      <main class="uc-main-content">
        <!-- 訂單管理 -->
        <div id="orders" class="content-page">
          <div class="tabs">
            <div class="tab active" data-type="future">未來式</div>
            <div class="tab" data-type="past">過去式</div>
            <div class="tab" data-type="ongoing">入住中</div>
            <div class="tab" data-type="cancelled">已取消</div>
          </div>

          <div class="filter row">
            <div class="dropdown col-md-6 mb-3 mb-md-0">
              <a
                class="btn btn-secondary dropdown-toggle"
                href="#"
                role="button"
                id="dropdownMenuLink"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                排序方式：入住日期
              </a>

              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <li><a class="dropdown-item" href="#">入住日期</a></li>
                <li><a class="dropdown-item" href="#">預定日期</a></li>
              </ul>
            </div>
            <div class="search-box col-md-6">
              <img
                src="../assets/user_center/search.png "
                width="18px"
                height="18px"
              />
              <input
                type="text"
                id="orderSearchInput"
                placeholder="以訂單編號搜尋"
              />
            </div>
          </div>

          <div class="location"></div>

          <!-- 訂單內容詳情 -->
          <div class="order-detail-panel" style="display: none">
            <button class="btn btn-outline-secondary" id="backToList">
              返回訂單列表
            </button>
            <div class="order-header row">
              <div class="left-section col-lg-8">
                <h2 id="detail-hotelName"></h2>
                <div class="dates">
                  <div class="checkin">
                    <span>入住日期</span><br />
                    <span id="detail-checkinDate"></span>
                  </div>
                  <div class="checkout">
                    <span>退房日期</span><br />
                    <span id="detail-checkoutDate"></span>
                  </div>
                </div>
                <div class="roomtype">
                  房型：<span id="detail-roomtype"></span>
                </div>
                <div class="room-address">
                  地址：<span id="detail-location"></span>
                </div>
                <div class="contact">
                  聯絡電話：<span id="detail-phone"></span>
                </div>
              </div>
              <div class="right-section col-lg-4">
                <p>訂單編號：<span id="detail-orderNumber"></span></p>
                <a href="#" class="cancel-order-btn">取消訂單</a>
                <a href="#" class="change-date-btn">更改日期</a>
                <a href="#" class="change-room-btn">更改房型</a>
                <a href="#" class="view-rules-btn">查看住宿規定</a>
              </div>
            </div>
            <div class="payment-info">
              <h3>付款資訊</h3>
              <div class="line-item">
                <span>房費：</span>
                <span id="detail-price"></span>
              </div>
              <div class="line-item">
                <span>稅金及其他費用：</span>
                <span id="detail-tax"></span>
              </div>
              <div class="total">
                <span>總金額：</span>
                <span id="detail-total"></span>
              </div>
              <div class="card_info">
                <div class="card-type">
                  付款方式：<span id="detail-cardType"></span>
                </div>
                <div class="card-mask">
                  卡號：<span id="detail-cardMasked"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="order-list"></div>
        </div>

        <!-- 住宿訊息 -->
        <div id="messages" class="content-page" style="display: none">
          <div class="chat-container">
            <div class="chat-list">
              <!-- <div class="chat-list-item">
                <div class="chat-hotel-info">
                  <div class="chat-hotel-name">台北大飯店</div>
                  <div class="chat-preview"></div>
                </div>
              </div>
              <div class="chat-list-item">
                <div class="chat-hotel-info">
                  <div class="chat-hotel-name">高雄大飯店</div>
                  <div class="chat-preview"></div>
                </div>
              </div> -->
            </div>
            <div class="chat-box">
              <div class="chat-placeholder">
                <i class="bi bi-chat-dots" style="font-size: 2rem"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- 住宿評論 -->
        <div id="reviews" class="content-page" style="display: none">
          <h2>尚未評論</h2>
          <div class="unreview-section">
            <div class="unreview-card template" style="display: none">
              <div class="review-img"></div>
              <div class="review-content">
                <div class="left-info">
                  <h5 class="review-hotel-name"></h5>
                  <div class="review-dates">
                    <div class="checkin">
                      <p>入住日期</p>
                      <span class="checkin-date"></span>
                    </div>
                    <div class="checkout">
                      <p>退房日期</p>
                      <span class="checkout-date"></span>
                    </div>
                  </div>
                </div>
                <div class="right-info">
                  <div class="rating-options">
                    <label for="score">請為這間住宿評分：</label>
                    <input
                      type="range"
                      class="score-slider"
                      name="score"
                      min="1"
                      max="10"
                      step="1"
                      value="5"
                    />
                    <span class="score-value"></span>
                    <div class="review-text">
                      <textarea
                        class="review-comment"
                        placeholder="留下您的評論..."
                      ></textarea>
                      <button
                        class="btn btn-secondary submit-review-btn"
                        type="submit"
                      >
                        送出
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <h2>過去評論</h2>
          <div class="review-section">
            <div class="review-card template" style="display: none">
              <div class="review-img"></div>
              <div class="review-content">
                <h5 class="review-hotel-name"></h5>
                <p class="review-date"></p>
                <div class="review-score">
                  <span class="score"></span>
                </div>
                <p class="review-text"></p>
              </div>
            </div>
          </div>
        </div>

        <!-- 收藏清單 -->
        <div id="favorites" class="content-page" style="display: none">
          <div class="favlist-filter">
            <label for="fav-location">選擇清單：</label>
            <select id="fav-location">
              <option value="kaohsiung">高雄</option>
              <option value="taipei">台北</option>
            </select>
          </div>
          <h4 class="favlist-title"></h4>
          <div class="favlist-grid row g-0">
            <div
              class="fav-card template col-sm-6 col-md-4 col-lg-3 mb-4"
              style="display: none"
            >
              <div class="fav-img-wrapper" style="position: relative">
                <div class="fav-img"></div>
                <button class="fav-heart-btn">
                  <i class="bi bi-heart-fill"></i>
                </button>
              </div>
              <div class="fav-content">
                <h5>Hotel Name</h5>
                <div class="fav-score-line">
                  <span class="score">8.0</span>
                  <span class="count">99,999則評論</span>
                </div>
                <div class="fav-location">
                  <i class="bi bi-geo-alt"></i
                  ><span class="fav-district"></span>，<span
                    class="fav-city"
                  ></span>
                </div>
                <div class="fav-price">TWD 99,999</div>
              </div>
            </div>
          </div>
        </div>

        <!-- 個人資料 -->
        <div id="profile" class="content-page" style="display: none">
          <h5>用戶詳細資料</h5>
          <div class="profile-card">
            <div class="profile-field name">
              <label>英文姓名</label>
              <div class="profile-value">
                <p class="value"></p>
                <button class="edit-btn name">編輯</button>
              </div>
              <div class="edit-passport-name" style="display: none">
                <div class="form-group">
                  <label for="passportFirstName">護照英文名</label>
                  <input
                    type="text"
                    id="passportFirstName"
                    class="form-control"
                    placeholder="護照英文名"
                  />
                </div>
                <div class="form-group">
                  <label for="passportLastName">護照英文姓</label>
                  <input
                    type="text"
                    id="passportLastName"
                    class="form-control"
                    placeholder="護照英文姓"
                  />
                </div>
                <div class="button-group">
                  <button
                    type="button"
                    class="btn btn-outline-primary cancel-edit-btn"
                  >
                    取消
                  </button>
                  <button type="button" class="btn btn-primary save-edit-btn">
                    儲存
                  </button>
                </div>
              </div>
            </div>

            <div class="profile-field">
              <label>電子郵件</label>
              <div class="profile-value">
                <p class="email"></p>
                <div class="verified">
                  <p class="verified">已通過驗證</p>
                </div>
              </div>
            </div>

            <div class="profile-field tel">
              <label>電話號碼</label>
              <div class="profile-value">
                <p class="value"></p>
                <button class="edit-btn tel">更改</button>
              </div>
              <div class="edit-tel" style="display: none">
                <div class="form-group">
                  <label for="newTel">新電話號碼</label>
                  <input
                    type="tel"
                    id="newTel"
                    class="form-control"
                    pattern="09\d{8}"
                    maxlength="10"
                    placeholder="請輸入電話號碼"
                  />
                </div>
                <div class="button-group">
                  <button
                    type="button"
                    class="btn btn-outline-secondary me-2 cancel-tel-btn"
                  >
                    取消
                  </button>
                  <button type="button" class="btn btn-primary save-tel-btn">
                    儲存
                  </button>
                </div>
              </div>
            </div>

            <div class="profile-field password">
              <label>密碼</label>
              <div class="profile-value">
                <p class="value">••••••••••••</p>
                <button class="edit-btn password">更改</button>
              </div>
              <div class="edit-password" style="display: none">
                <div class="form-group">
                  <label for="newPassword">新密碼</label>
                  <input
                    type="password"
                    id="newPassword"
                    class="form-control"
                    placeholder="請輸入新密碼"
                  />
                </div>
                <div class="button-group">
                  <button
                    type="button"
                    class="btn btn-outline-secondary me-2 cancel-password-btn"
                  >
                    取消
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary save-password-btn"
                  >
                    儲存
                  </button>
                </div>
              </div>
            </div>
          </div>

          <h5>付款方式</h5>
          <div class="profile-card">
            <div class="payment-box">
              <p class="payment-type">VISA</p>
              <p class="payment-mask">xxxx-xxxx-xxxx-xxxx</p>
              <i class="bi bi-trash delete-icon"></i>
            </div>
            <div class="profile-field">
              <div class="profile-value">
                <p class="value">儲存信用卡資料</p>
                <label class="switch">
                  <input type="checkbox" checked />
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>

          <h5>訂閱電子郵件</h5>
          <div class="profile-card">
            <div class="profile-field">
              <div class="profile-value">
                <p class="value">我要收到促銷情報</p>
                <label class="switch">
                  <input type="checkbox" checked />
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- modal視窗 -->
    <!-- 取消訂單modal視窗 -->
    <div id="cancelModal" class="modal-overlay" style="display: none">
      <div class="cancel-modal">
        <button id="closeCancelModal" class="close-btn">✕</button>
        <h2>取消原因</h2>
        <select id="cancelReason">
          <option value="">請選擇原因</option>
          <option value="change_plan">改變原訂行程</option>
          <option value="found_better">找到價格更優惠的住宿</option>
          <option value="found_better">住宿地點不方便</option>
          <option value="found_better">健康因素或突發疾病</option>
          <option value="found_better">需要改變住宿類型</option>
          <option value="found_better">同行者取消或無法出行</option>
          <option value="other">其他原因</option>
        </select>
        <div class="modal-actions">
          <button id="cancelModalClose" class="btn btn-outline-secondary">
            關閉
          </button>
          <button id="cancelModalConfirm" class="btn btn-secondary">
            繼續
          </button>
        </div>
      </div>
    </div>

    <!-- 更改日期modal視窗 -->
    <div id="changeDateModal" class="modal-overlay" style="display: none">
      <div class="changedate-modal">
        <button id="closeChangeDateModal" class="close-btn">✕</button>
        <h2>更改入住日期</h2>
        <div class="date">
          <div>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="bi bi-calendar-event"></i
              ></span>
              <input
                type="text"
                id="daterange"
                class="choose-date"
                placeholder="選擇日期範圍"
              />
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button id="changeDateModalClose" class="btn btn-outline-secondary">
            關閉
          </button>
          <button id="changeDateModalConfirm" class="btn btn-secondary">
            確認
          </button>
        </div>
      </div>
    </div>

    <!-- 更改房型 modal 視窗 -->
    <div id="changeRoomModal" class="modal-overlay" style="display: none">
      <div class="changeRoom-modal">
        <button id="closeChangeRoomModal" class="close-btn">✕</button>
        <h2>更改房型</h2>
        <div class="room-options">
          <!-- template card -->
          <div
            class="room-card template"
            style="display: none"
            data-roomtype-id=""
            data-price=""
          >
            <img src="" alt="房型圖片" class="room-img" />
            <h3 class="room-name"></h3>
            <p class="room-price"></p>
          </div>
          <!-- 動態插入卡片將放在這裡 -->
        </div>
        <div class="modal-actions">
          <button id="changeRoomModalClose" class="btn btn-outline-secondary">
            關閉
          </button>
          <button id="changeRoomModalConfirm" class="btn btn-secondary">
            確認
          </button>
        </div>
      </div>
    </div>
    <!-- 查看住宿規定 Modal -->
    <div id="hotelRulesModal" class="modal-overlay" style="display: none">
      <div class="hotel-rules-modal">
        <button id="closeHotelRulesModal" class="close-btn">✕</button>
        <h2>住宿規定</h2>
        <ul class="rules-list">
          <li>入住時間：15:00後，退房時間：12:00前。</li>
          <li>禁止攜帶寵物入住。</li>
          <li>住宿期間禁止吸菸，違者將酌收清潔費用。</li>
          <li>如需加床或嬰兒床，請提前告知，可能需額外付費。</li>
          <li>入住時需出示有效身分證件及信用卡。</li>
          <li>部分房價不含早餐，請留意訂房條件。</li>
          <li>如需更改或取消訂房，請遵循各房型取消政策。</li>
        </ul>
        <div class="modal-actions">
          <button id="hotelRulesModalClose" class="btn btn-secondary">
            關閉
          </button>
        </div>
      </div>
    </div>
    <footer class="text-white py-4 mt-5">
      <div class="container">
        <div class="row row-cols-2 row-cols-md-4 g-4 text-center">
          <div>
            <h5>客服中心</h5>
            <ul class="list-unstyled">
              <li><a href="#">服務中心</a></li>
            </ul>
          </div>
          <div>
            <h5>認識出趣玩</h5>
            <ul class="list-unstyled">
              <li><a href="#">關於出趣玩</a></li>
            </ul>
          </div>
          <div>
            <h5>服務條款</h5>
            <ul class="list-unstyled">
              <li><a href="#">服務條款</a></li>
              <li><a href="#">隱私權政策</a></li>
            </ul>
          </div>
          <div>
            <h5>合作夥伴</h5>
            <ul class="list-unstyled">
              <li><a href="#">登入後台</a></li>
            </ul>
          </div>
        </div>

        <hr />

        <div class="text-center">
          <p class="mb-0">© 2025 Staytion. All rights reserved.</p>
          <p class="mb-0">Powered by Bootstrap 5</p>
        </div>

        <div class="d-flex justify-content-center mt-4 gap-3 social-icons">
          <a href="#"><i class="bi bi-facebook"></i></a>
          <a href="#"><i class="bi bi-instagram"></i></a>
          <a href="#"><i class="bi bi-twitter"></i></a>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script type="module" src="../script/user_center/usercenter.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 更改日期選擇欄位 -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh-tw.js"></script>
    <script>
      flatpickr("#daterange", {
        locale: "zh_tw",
        mode: "range",
        minDate: "today",
        dateFormat: "Y-m-d",
        showMonths: 2,
      });
    </script>
  </body>
</html>
