<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SearchPage</Search></title>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Gafata&display=swap" rel="stylesheet" /> -->
    <link href="https://fonts.googleapis.com/css2?family=Kufam&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="../assets/css/search.css"/>   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<!--所有下拉式選單,所有動態及選項都寫在JS-->
<body>
    <header class="site-header">
        <div class="header-container">
            <h1><img src="../assets/img/logo/logo1.png" class="logo"></h1>
            <nav class="site-nav">
                <div class="lang-dropdown">
                    <button class="btn btn-lang" onclick="toggleLangDropdown()" type="button">
                      <img src="../assets/img/flags/en.svg" class="flag-icon" alt="English">
                    </button>
                    <div class="lang-menu" id="langMenu" style="display: none;">
                      <button onclick="setLang('tw')" type="button">
                        <img src="../assets/img/flags/tw.svg" class="flag-icon" alt="繁體中文">
                      </button>
                      <button onclick="setLang('en')" type="button">
                        <img src="../assets/img/flags/en.svg" class="flag-icon" alt="English">
                      </button>
                      <button onclick="setLang('jp')" type="button">
                        <img src="../assets/img/flags/jp.svg" class="flag-icon" alt="日本語">
                      </button>
                      <button onclick="setLang('kr')" type="button">
                        <img src="../assets/img/flags/kr.svg" class="flag-icon" alt="韓文">
                      </button>
                    </div>
                  </div>
                <div class="btn btn-currency" onclick="toggleCurDropdown" type="button">TWD
                    <img src="../assets/img/icon/chevron-down.svg"  class="icon-down">
                </div>
                <button id="registerBtn" class="btn btn-register" onclick="location.href='hotel-register.html'">
                    Register
                    <!-- <img class="icon-user" src="../assets/img/icon/user.png" alt="user"> -->
                </button>
                <button id="loginBtn" class="btn btn-login" onclick="location.href='hotel-login.html'">Login</button>
            </nav>
        </div>
    </header>

    <main class="main-content container">
        <section class="search-bar">
            <form class="search-form">
              <div class="dropdown-group dropdown-city">
                <input class="search-item" id="city" 
                placeholder="Destination">
                <div class="dropdown dropdown-city-menu">
                  <ul class="dropdown-menu" id="cityList"></ul>
                </div>
              </div>
              <div class="dropdown-group dropdown-date">
                <input class="search-item" id="dateRange" 
                placeholder="Check-in - Check-out Dates">
                <div class="dropdown dropdown-date-menu"></div>
              </div>
              <div class="dropdown-group dropdown-guest">
                <input class="search-item" id="guest" 
                placeholder="Guests" readonly>
                <div class="dropdown dropdown-guest-menu" id="guestDropdownMenu">
                  <div class="guest-dropdown-panel">
                    <div class="guest-row">
                      <span>Adult</span>
                      <button type="button" class="btn-minus" data-type="adult">-</button>
                      <span class="guest-count" id="adultCount">2</span>
                      <button type="button" class="btn-plus" data-type="adult">+</button>
                    </div>
                    <div class="guest-row">
                      <span>Child</span>
                      <button type="button" class="btn-minus" data-type="child">-</button>
                      <span class="guest-count" id="childCount">0</span>
                      <button type="button" class="btn-plus" data-type="child">+</button>
                    </div>
                    <div class="guest-row">
                      <span>Room</span>
                      <button type="button" class="btn-minus" data-type="room">-</button>
                      <span class="guest-count" id="roomCount">1</span>
                      <button type="button" class="btn-plus" data-type="room">+</button>
                    </div>
                    <button type="button" class="btn btn-search btn-guest-done" style="width:100%;margin-top:8px;">Finish</button>
                  </div>
                </div>
              </div>
              <button type="submit" class="btn btn-search">Search</button>
            </form>
          </section>

        <section class="filter-bar">
            <div class="filter-group">
                <button class="filter-btn" onclick="openFilterModal()" type="button">
                    Filter</button>
            </div>
            <div class="modal" id="filterModal">
                <div class="modal-backdrop" onclick="closeFilterModal()"></div>
                <div class="modal-content filter-modal">
                    <button class="close-btn" onclick="closeFilterModal()">&times;</button>
                    <h2 class="modal-title">Filter Options</h2>
                    <div class="modal-section recommend-section">
                        <div class="section-title">Recommended for you</div>
                        <div class="recommend-options">
                        <button class="recommend-btn" data-recommend="rating">Highest Rated</button>
                        <button class="recommend-btn" data-recommend="price">Lowest Price First</button>
                        <button class="recommend-btn" data-recommend="facility">Popular Amenities</button>
                        </div>
                    </div>
                    <hr class="modal-divider">
                    <div class="modal-section price-section">
                        <div class="section-title">Price Range</div>
                        <div class="price-slider-wrap">
                        <input type="range" min="500" max="8000" value="2000" class="price-slider" id="priceSlider">
                        <div class="price-range">
                            <span id="minPrice">Minimum</span>
                            <span id="maxPrice">Maximum</span>
                        </div>
                        </div>
                    </div>
                    <hr class="modal-divider">
                    <div class="modal-section facility-section">
                        <div class="section-title">Amenities</div>
                    <div class="facility-options">
                        <button type="button" class="facility-btn">Free wifi</button>
                        <button type="button" class="facility-btn">Parking</button>
                        <button type="button" class="facility-btn">Hot Spring</button>
                        <button type="button" class="facility-btn">Restaurant</button>
                        <button type="button" class="facility-btn">Gym</button>
                        <button type="button" class="facility-btn">Laundry Facilities</button>
                        <button type="button" class="facility-btn">Pet Friendly</button>
                        <button type="button" class="facility-btn">Bike Friendly</button>
                        <button type="button" class="facility-btn">Meeting Room</button>
                        <button type="button" class="facility-btn">Bar</button>
                        <button type="button" class="facility-btn">Store</button>
                        <button type="button" class="facility-btn">Shuttle Service</button>
                        <button type="button" class="facility-btn">Accessible </button>
                    </div>
                </div>
                    <div class="modal-actions">
                        <button class="btn btn-clear" id="clearAllBtn">Clear All</button>
                        <button class="btn btn-check" onclick="applyFilter()">Show 1000+ places</button>
                    </div>
                    </div>
              </div>
            </div>
            <div class="filter-drop">
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown('areaDropdown')" type="button">
                        Area</button>
                    <ul class="dropdown-menu" id="areaDropdown"></ul>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown('priceDropdown')" type="button">
                        Price</button>
                    <ul class="dropdown-menu" id="priceDropdown"></ul>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown('starDropdown')" type="button">
                        Star</button>
                    <ul class="dropdown-menu" id="starDropdown"></ul>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown('facilityDropdown')" type="button">
                        Facility</button>
                    <ul class="dropdown-menu" id="facilityDropdown"></ul>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown('scoreDropdown')" type="button">
                        Score</button>
                    <ul class="dropdown-menu" id="scoreDropdown"></ul>
                </div>
            </div>
        </section>
        
        <section class="section-tabs">
            <h2 id="resultTitle">Area: room</h2>
            <!-- 用js來操控動態顯示 -->
        </section>

        <div class="sort-bar">
            <div class="dropdown">
                <button class="dropdown-btn" onclick="toggleDropdown('sortDropdown')" type="button">
                    Sort</button>
                <ul class="dropdown-menu" id="sortDropdown"></ul>
            </div>
            <button class="btn btn-map">Search On Map</button>
        </div>

        <section class="hotel-list" id="hotelList">
            <!--JS插入hotel list 無限滾動-->

            <article class="hotel-card">
                <div class="hotel-image">
                    <img src="assets/img/hotel1.png" alt="Picture">
                </div>
                <div class="hotel-info">
                    <h2 class="hotel-name">SI Hotel</h2>
                    <div class="hotel-location"> West District, Taichung,
                        <a href="google地圖顯示">Show on map</a>
                        2.7km from centre
                    </div>
                    <div class="hotel-type">Superior Queen Room</div>
                </div>
                <div class="hotel-extra">
                    <div class="hotel-rating">
                        <span class="rating-text">Very good</span>
                        <span class="rating-score">8.5</span>
                    </div>
                    <div class="hotel-date">1 night, 2 adult<br>
                        <strong>TWD 1,596</strong><br>
                        Includes taxes and charges
                    </div>
                    <button class="btn btn-booking" onclick="location.href='hotel-detail.html'">
                        See availability</button>
                </div>
            </article>
            <article class="hotel-card">
                <div class="hotel-image">
                    <img src="assets/img/hotel1.png" alt="Picture">
                </div>
                <div class="hotel-info">
                    <h2 class="hotel-name">SI Hotel</h2>
                    <div class="hotel-location"> West District, Taichung,
                        <a href="google地圖顯示">Show on map</a>
                        2.7km from centre
                    </div>
                    <div class="hotel-type">Superior Queen Room</div>
                </div>
                <div class="hotel-extra">
                    <div class="hotel-rating">
                        <span class="rating-text">Very good</span>
                        <span class="rating-score">8.5</span>
                    </div>
                    <div class="hotel-date">1 night, 2 adult<br>
                        <strong>TWD 1,596</strong><br>
                        Includes taxes and charges
                    </div>
                    <button class="btn btn-booking" onclick="location.href='hotel-detail.html'">
                        See availability</button>
                </div>
            </article>
            <article class="hotel-card">
                <div class="hotel-image">
                    <img src="assets/img/hotel1.png" alt="Picture">
                </div>
                <div class="hotel-info">
                    <h2 class="hotel-name">SI Hotel</h2>
                    <div class="hotel-location"> West District, Taichung,
                        <a href="google地圖顯示">Show on map</a>
                        2.7km from centre
                    </div>
                    <div class="hotel-type">Superior Queen Room</div>
                </div>
                <div class="hotel-extra">
                    <div class="hotel-rating">
                        <span class="rating-text">Very good</span>
                        <span class="rating-score">8.5</span>
                    </div>
                    <div class="hotel-date">1 night, 2 adult<br>
                        <strong>TWD 1,596</strong><br>
                        Includes taxes and charges
                    </div>
                    <button class="btn btn-booking" onclick="location.href='hotel-detail.html'">
                        See availability</button>
                </div>
            </article>
            <article class="hotel-card">
                <div class="hotel-image">
                    <img src="assets/img/hotel1.png" alt="Picture">
                </div>
                <div class="hotel-info">
                    <h2 class="hotel-name">SI Hotel</h2>
                    <div class="hotel-location"> West District, Taichung,
                        <a href="google地圖顯示">Show on map</a>
                        2.7km from centre
                    </div>
                    <div class="hotel-type">Superior Queen Room</div>
                </div>
                <div class="hotel-extra">
                    <div class="hotel-rating">
                        <span class="rating-text">Very good</span>
                        <span class="rating-score">8.5</span>
                    </div>
                    <div class="hotel-date">1 night, 2 adult<br>
                        <strong>TWD 1,596</strong><br>
                        Includes taxes and charges
                    </div>
                    <button class="btn btn-booking" onclick="location.href='hotel-detail.html'">
                        See availability</button>
                </div>
            </article>
            <article class="hotel-card">
                <div class="hotel-image">
                    <img src="assets/img/hotel1.png" alt="Picture">
                </div>
                <div class="hotel-info">
                    <h2 class="hotel-name">SI Hotel</h2>
                    <div class="hotel-location"> West District, Taichung,
                        <a href="google地圖顯示">Show on map</a>
                        2.7km from centre
                    </div>
                    <div class="hotel-type">Superior Queen Room</div>
                </div>
                <div class="hotel-extra">
                    <div class="hotel-rating">
                        <span class="rating-text">Very good</span>
                        <span class="rating-score">8.5</span>
                    </div>
                    <div class="hotel-date">1 night, 2 adult<br>
                        <strong>TWD 1,596</strong><br>
                        Includes taxes and charges
                    </div>
                    <button class="btn btn-booking" onclick="location.href='hotel-detail.html'">
                        See availability</button>
                </div>
            </article>
        </section>
    </main>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="../js/search.js"></script>
</body>
</html>