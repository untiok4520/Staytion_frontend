<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- bs -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css" />

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
    <link rel="stylesheet" href="../../styles/homepage/_css/home.css">

    <style>
        .history {
            position: relative;
            background-color: #FEFCF0;
            margin-top: 1rem;
            margin-bottom: 1rem;
            padding: 2.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
        }

        .history img {
            width: 64px;
            height: 64px;
            border-radius: 0.5rem;
            margin-right: 10px
        }

        .history-carousel {
            display: flex;
            overflow-x: auto;
            scrollbar-width: none;
            gap: 1rem;
            padding-bottom: 1rem;
        }


        .history-card {
            background-color: #fff;
            display: flex;
            align-items: center;
            border: 1px solid #f1f1f1;
            border-radius: 0.5rem;
            padding: 0.5rem;
            min-width: 250px;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .history-img {
            flex-shrink: 0;
        }

        .history-content {
            flex: 1;
        }


        .history-card:hover {
            transform: scale(1.02);
        }

        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            border: none;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            padding: 0.25rem 0.5rem;
            cursor: pointer;
        }
    </style>


</head>

<body>
    <div class="history container">
        <h4 class="fw-bold">近期搜尋紀錄</h4>
        <div class="history-carousel d-flex overflow-auto gap-3" id="history-carousel">
            <!-- 這裡由 JS 動態產出卡片 -->
        </div>
        <!-- 可選的左側箭頭按鈕 -->
        <button id="scroll-prev-history" class="scroll-btn start-0">
            <i class="bi bi-chevron-left"></i>
        </button>

        <!-- 右側箭頭按鈕 -->
        <button id="scroll-next-history" class="scroll-btn end-0">
            <i class="bi bi-chevron-right"></i>
        </button>
    </div>


    <script>

        // 取得容器和箭頭按鈕
        const historyCarousel = document.getElementById('history-carousel');
        const nexthistoryBtn = document.getElementById('scroll-next-history');
        const prevhistoryBtn = document.getElementById('scroll-prev-history');

        const getScrollAmount = () => {
            const card = document.querySelector('.city-carousel .card');
            return card ? card.offsetWidth + 16 : 260;
        };
        nexthistoryBtn.addEventListener('click', () => {
            historyCarousel.scrollBy({ left: getScrollAmount(), behavior: 'smooth' });
        });

        prevhistoryBtn.addEventListener('click', () => {
            historyCarousel.scrollBy({ left: -getScrollAmount(), behavior: 'smooth' });
        });

        const historyData = [
            {
                city: "彰化",
                img: "../../assets/homepage/img/changhua.jpg",
                date: "2025-06-11 至 2025-06-19",
                people: "2位"
            },
            {
                city: "台中",
                img: "../../assets/homepage/img/taichung.jpg",
                date: "2025-06-05 至 2025-06-10",
                people: "3位"
            },
            {
                city: "彰化",
                img: "../../assets/homepage/img/changhua.jpg",
                date: "2025-06-11 至 2025-06-19",
                people: "2位"
            },
            {
                city: "台中",
                img: "../../assets/homepage/img/taichung.jpg",
                date: "2025-06-05 至 2025-06-10",
                people: "3位"
            },
            {
                city: "彰化",
                img: "../../assets/homepage/img/changhua.jpg",
                date: "2025-06-11 至 2025-06-19",
                people: "2位"
            },
            {
                city: "台中",
                img: "../../assets/homepage/img/taichung.jpg",
                date: "2025-06-05 至 2025-06-10",
                people: "3位"
            }
            // 可繼續加入更多紀錄
        ];

        historyData.forEach(item => {
            const card = document.createElement("div");
            card.classList.add("history-card", "d-flex", "border", "rounded", "p-2");
            card.style.minWidth = "250px"; // 卡片寬度可自訂
            card.innerHTML = `
        <div class="history-img me-3">
        <img src="${item.img}" alt="${item.city}" width="100px" class="rounded">
        </div>
        <div class="history-content">
        <div class="history-item fw-bold">${item.city}</div>
        <div class="history-item">${item.date}</div>
        <div class="history-item">${item.people}</div>
        </div>
          `;
            historyCarousel.appendChild(card);
        });


    </script>
</body>

</html>